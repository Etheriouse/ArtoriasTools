<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <div id="menu">
        <div id="icon-selector">
            <div id="tools-selector">
                <div>
                    <span>ğŸ“‹</span>
                    <h3 style="display: none;" id="title-tools">Clipboard</h3>
                </div>
                <div>
                    <span>ğŸ–Œï¸</span>
                    <h3 style="display: none;" id="title-tools">Whiteboard</h3>
                </div>
                <div>
                    <span>ğŸ§®</span>
                    <h3 style="display: none;" id="title-tools">Logs</h3>
                </div>
                <div>
                    <span>ğŸ’¾</span>
                    <h3 style="display: none;" id="title-tools">Template</h3>
                </div>
                <div>
                    <span>âš–ï¸</span>
                    <h3 style="display: none;" id="title-tools">Converter</h3>
                </div>
                <div>
                    <span>ğŸ—“ï¸</span>
                    <h3 style="display: none;" id="title-tools">Calendar</h3>
                </div>
                <div>
                    <span>ğŸ“Š</span>
                    <h3 style="display: none;" id="title-tools">Graphics</h3>
                </div>
                <div>
                    <span>ğŸ”</span>
                    <h3 style="display: none;" id="title-tools">Password</h3>
                </div>
            </div>
            <div id="settings-selector">
                <div>
                    <span>ğŸ—¿</span>
                </div>
                <div>
                    <span>âš™ï¸</span>
                </div>

            </div>
        </div>


        <!-- <style> enfaite je sais pas trop quoi en foutre ptdrr
            #menu-icon-selected {
                display: none;
            }
        </style>
        <div id="menu-icon-selected">
            <h2 style="white-space: nowrap;">Yuzu compiler</h2>
        </div> -->
    </div>

    <div id="main-app">
        <div id="global-log">
            <h1>Global input log: </h1>
            <div>
                <h2 id="log-key">Keyboard: </h2>
                <h2 id="log-mouse">Mouse: </h2>
            </div>
        </div>
        <div id="detailled-log">
            <div id="detailled-key">

            </div>

            <div id="detailled-mouse">
                
            </div>
            <button id="update-button">Update</button>
        </div>

        <style>
            #main-app {
                overflow-y: auto;
            }

            #global-log > div {
                display: flex;
                flex-direction: row;
            }

            #global-log > div > h2 {
                margin-right: 45px;
            }
        </style>
        <script>
            const key = [];
            window.addEventListener('click', e => {
                console.log(e);
            })
            window.addEventListener('keydown', e => {
                if(!key[e.keyCode]) {
                    key[e.keyCode] = {name: e.key, number: 1};
                }
                key[e.keyCode].number++;
                
            })

            document.getElementById('update-button').addEventListener('click', () => {
                const log = document.getElementById('detailled-key');
                log.childNodes.forEach(rev => {
                    log.removeChild(rev);
                })
                const lu = document.createElement('ul');
                key.forEach(element => {
                    let li = document.createElement('li');
                    li.innerHTML = element.name + ": " + element.number;
                    lu.appendChild(li)
                })
                log.appendChild(lu);
            })

        </script>
    </div>

    <script type="module" src="renderer.js"></script>
</body>

</html>